<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Intoduction into Adjusted Predictions and Marginal Effects • ggeffects</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Intoduction into Adjusted Predictions and Marginal Effects">
<meta property="og:description" content="ggeffects">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggeffects</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Introductions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ggeffects.html">Marginal Effects of Regression Models</a>
    </li>
    <li>
      <a href="../articles/introduction_marginal_effects.html">Definition of Marginal Effects</a>
    </li>
    <li>
      <a href="../articles/introduction_effectsatvalues.html">Marginal Effects at Specific Values</a>
    </li>
    <li>
      <a href="../articles/introduction_randomeffects.html">Marginal Effects for Random Effects Models</a>
    </li>
    <li>
      <a href="../articles/introduction_partial_residuals.html">Adding Partial Residuals to Marginal Effects Plots</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Plotting
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction_plotmethod.html">Plotting Marginal Effects</a>
    </li>
    <li>
      <a href="../articles/introduction_plotcustomize.html">Customize Plot Appearance</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Practical Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/practical_logisticmixedmodel.html">Logistic Mixed Effects Model with Interaction Term</a>
    </li>
    <li>
      <a href="../articles/practical_robustestimation.html">(Cluster) Robust Standard Errors</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Technical Details
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/technical_differencepredictemmeans.html">Difference between ggpredict() and ggemmeans()</a>
    </li>
    <li>
      <a href="../articles/technical_stata.html">Different Output between Stata and ggeffects</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/strengejacke/ggeffects/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="introduction_marginal_effects_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Intoduction into Adjusted Predictions and Marginal Effects</h1>
                        <h4 class="author">Daniel Lüdecke</h4>
            
            <h4 class="date">2021-04-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/strengejacke/ggeffects/blob/master/vignettes/introduction_marginal_effects.Rmd"><code>vignettes/introduction_marginal_effects.Rmd</code></a></small>
      <div class="hidden name"><code>introduction_marginal_effects.Rmd</code></div>

    </div>

    
    
<div id="marginal-effects-and-predictions" class="section level1">
<h1 class="hasAnchor">
<a href="#marginal-effects-and-predictions" class="anchor"></a>Marginal effects and predictions</h1>
<p>There is no common language across fields regarding a unique meaning of “marginal effects”. Thus, the wording throughout this package may vary. The most generic description of what <em>ggeffects</em> does, is: <em>ggeffects</em> allows us to interpret a statistical model by making predictions generated by the model when one holds the non-focal variables constant and varies the focal variable(s).</p>
<p>In the following, some examples are shown to make clear what is actually calculated and returned by the package’s functions <code><a href="../reference/ggeffect.html">ggpredict()</a></code>, <code><a href="../reference/ggeffect.html">ggemmeans()</a></code> and <code><a href="../reference/ggeffect.html">ggeffect()</a></code>, and how this differs from other functions or software packages that calculate marginal effects.</p>
<div id="an-example-with-a-simple-linear-model" class="section level2">
<h2 class="hasAnchor">
<a href="#an-example-with-a-simple-linear-model" class="anchor"></a>An example with a simple linear model</h2>
<p>First, we fit s simple linear model and look at the coefficient of the only predictor, <code>Sepal.Width</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>
<span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">Sepal.Width</span>, data <span class="op">=</span> <span class="va">iris</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span><span class="op">[</span><span class="st">"Sepal.Width"</span><span class="op">]</span>
<span class="co">#&gt; Sepal.Width </span>
<span class="co">#&gt;  -0.2233611</span></code></pre></div>
<p>The coefficient we see here, is in this simple case the <em>slope</em> of the regression line:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Sepal.Width</span>, y <span class="op">=</span> <span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>intercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span><span class="op">[</span><span class="st">"(Intercept)"</span><span class="op">]</span>, 
              slope <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span><span class="op">[</span><span class="st">"Sepal.Width"</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p><img src="introduction_marginal_effects_files/figure-html/unnamed-chunk-2-1.png" width="672"></p>
<p>In this simple case of a linear model, the slope for this regression line is always the same for each value of our predictor, <code>Sepal.Width</code>. We can check this by generating predictions of our model.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://strengejacke.github.io/ggeffects/">ggeffects</a></span><span class="op">)</span>
<span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggeffect.html">ggpredict</a></span><span class="op">(</span><span class="va">model1</span>, <span class="st">"Sepal.Width"</span><span class="op">)</span>
<span class="va">pr</span>
<span class="co">#&gt; # Predicted values of Sepal.Length</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Sepal.Width | Predicted |       95% CI</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;        2.00 |      6.08 | [5.73, 6.43]</span>
<span class="co">#&gt;        2.20 |      6.03 | [5.74, 6.33]</span>
<span class="co">#&gt;        2.60 |      5.95 | [5.75, 6.14]</span>
<span class="co">#&gt;        3.00 |      5.86 | [5.72, 5.99]</span>
<span class="co">#&gt;        3.20 |      5.81 | [5.67, 5.95]</span>
<span class="co">#&gt;        3.40 |      5.77 | [5.60, 5.93]</span>
<span class="co">#&gt;        3.80 |      5.68 | [5.42, 5.94]</span>
<span class="co">#&gt;        4.40 |      5.54 | [5.11, 5.97]</span></code></pre></div>
<p>“Predictions” returned by <em>ggeffects</em> are actually interpretations of regression coefficients in terms of <em>comparison</em>. We can compare how much our outcome (<code>Sepal.Length</code>) changes on average, when the focal term (in this case: <code>Sepal.Width</code>) varies: For example, what is the average value of <code>Sepal.Length</code> for observations with a value of, say, <code>2</code> for <code>Sepal.Width</code>, compared to observations with a <code>3</code> for <code>Sepal.Width</code>?</p>
<p><em>ggeffects</em> returns predictions for <a href="https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html">representative values</a> for the focal term, hence you see many predicted values (including confidence intervals) in the output for the different values of the focal term(s).</p>
<p>If we now look at the differences between any two predicted values, we see that these are identical:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Difference between predicted values for Sepal.Width = 2 and 3</span>
<span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggeffect.html">ggpredict</a></span><span class="op">(</span><span class="va">model1</span>, <span class="st">"Sepal.Width [2,3]"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diff.html">diff</a></span><span class="op">(</span><span class="va">pr</span><span class="op">$</span><span class="va">predicted</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] -0.2234</span>

<span class="co"># Difference between predicted values for Sepal.Width = 3 and 4</span>
<span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggeffect.html">ggpredict</a></span><span class="op">(</span><span class="va">model1</span>, <span class="st">"Sepal.Width [4,5]"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diff.html">diff</a></span><span class="op">(</span><span class="va">pr</span><span class="op">$</span><span class="va">predicted</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] -0.2234</span></code></pre></div>
<p>Furthermore, the difference of predicted values that differ by <code>1</code> in the focal term (<code>Sepal.Width</code>), equals the regression coefficient. This is because the interpretation of a regression coefficient can be seen as average difference in the outcome, “comparing two individuals that differ in one predictor [a difference of <code>1</code> for <code>Sepal.Width</code> in this case], while being at the same levels of all other predictors.” (Gelman, Hill, Vehtari 2020, page 494). We don’t have any other predictors in this example, so we don’t go into deeper details here.</p>
<p>Thus, the association - or <em>effect</em> - between <code>Sepal.Length</code> and <code>Sepal.Width</code> is the same for every value of <code>Sepal.Width</code>. This means, that for simple linear models, the regression coefficient is also the <em>marginal effect</em>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leeper/margins">margins</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/margins/man/margins.html">margins</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span>
<span class="co">#&gt;  Sepal.Width</span>
<span class="co">#&gt;      -0.2234</span></code></pre></div>
<p>The <em>marginal effect</em> here is the <em>average marginal effect</em>, because on average, the effect of <code>Sepal.Width</code> on <code>Sepal.Length</code> is -0.2234.</p>
</div>
<div id="an-example-with-a-simple-logistic-regression-model" class="section level2">
<h2 class="hasAnchor">
<a href="#an-example-with-a-simple-logistic-regression-model" class="anchor"></a>An example with a simple logistic regression model</h2>
<p>For the next example, we simulate some data for a logistic regression model.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.3</span>, <span class="fl">.7</span><span class="op">)</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">2</span><span class="op">)</span>
<span class="va">y_1</span> <span class="op">&lt;-</span> <span class="va">y</span> <span class="op">==</span> <span class="fl">1</span>
<span class="va">x</span><span class="op">[</span><span class="va">y_1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="va">y_1</span><span class="op">]</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">y_1</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span>

<span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
<span class="va">model2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">d</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span><span class="op">[</span><span class="st">"x"</span><span class="op">]</span>
<span class="co">#&gt;        x </span>
<span class="co">#&gt; 2.640768</span></code></pre></div>
<p>The regression coefficient for <code>x</code> (on the logit-scale) is 2.6408. However, for a logistic regression, this “slope” is not constant across all values of <code>x</code>, because we have non-linear transformations here. We can make this more clear by looking at the predicted probabilities:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/ggeffect.html">ggpredict</a></span><span class="op">(</span><span class="va">model2</span>, <span class="st">"x [all]"</span><span class="op">)</span>, ci <span class="op">=</span> <span class="cn">FALSE</span>, add.data <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="introduction_marginal_effects_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
<p>We have some differences here compared to the linear regression model:</p>
<ol style="list-style-type: decimal">
<li><p>We no longer have the predicted <em>average difference</em> or <em>mean</em> in our outcome, but rather the predicted <em>probability</em> that our outcome is <code>1</code> for a given value of <code>x</code>.</p></li>
<li><p>Due to the non-linear transformation, the slope differs at different values for <code>x</code>, thus, the “marginal effect” or “association” (in terms of probabilities) is not constant across values of <code>x</code>.</p></li>
<li><p>While the regression coefficient in linear models is already on the response scale, and hence the (average) marginal effect equals the regression coefficient, we have different scales in logistic regression models: the coefficients shown in <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> are on the logit-scale (the scale of the linear predictor); exponentiating that coefficient (i.e. <code><a href="https://rdrr.io/r/base/Log.html">exp(coef(model2))</a></code>) returns an <em>odds ratio</em>; predictions are easy to interpret in terms of <em>probabilities</em>, as mentioned under 1).</p></li>
</ol>
<p>First, let’s look at the average marginal effect of <code>x</code> in this model:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/margins/man/margins.html">margins</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span>
<span class="co">#&gt;      x</span>
<span class="co">#&gt;  0.154</span></code></pre></div>
<p>The result indicates “the contribution of each variable on the outcome scale”, i.e. the “change in the predicted probability that the outcome equals 1” (see vignettes from the <a href="https://cran.r-project.org/package=margins"><em>margins</em> package</a>). <em>On average</em>, a unit-change in <code>x</code> changes the predicted probability that the outcome equals 1 by 15.40%.</p>
<p>I personally find it less intuitive to interpret <em>average marginal effects</em>, but rather prefer to look at predictions at different values of the focal term(s), which is what <em>ggeffects</em> returns by default:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ggeffect.html">ggpredict</a></span><span class="op">(</span><span class="va">model2</span>, <span class="st">"x"</span><span class="op">)</span>
<span class="co">#&gt; # Predicted probabilities of y</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  x | Predicted |       95% CI</span>
<span class="co">#&gt; -----------------------------</span>
<span class="co">#&gt; -2 |      0.00 | [0.00, 0.00]</span>
<span class="co">#&gt;  0 |      0.00 | [0.00, 0.00]</span>
<span class="co">#&gt;  2 |      0.03 | [0.01, 0.07]</span>
<span class="co">#&gt;  4 |      0.84 | [0.73, 0.91]</span>
<span class="co">#&gt;  6 |      1.00 | [0.99, 1.00]</span>
<span class="co">#&gt;  8 |      1.00 | [1.00, 1.00]</span>
<span class="co">#&gt; 10 |      1.00 | [1.00, 1.00]</span></code></pre></div>
<p>For <code>x = -2</code>, the predicted probability that <code>y = 1</code>, as estimated by our model, is zero. For <code>x = 10</code>, the probability is 100%. In essence, what <code><a href="../reference/ggeffect.html">ggpredict()</a></code> returns, are not <em>average</em> marginal effects, but rather the marginal effects at different values of <code>x</code>.</p>
</div>
</div>
<div id="marginal-effects-average-marginal-effects-or-predictions" class="section level1">
<h1 class="hasAnchor">
<a href="#marginal-effects-average-marginal-effects-or-predictions" class="anchor"></a>Marginal effects, average marginal effects or predictions?</h1>
<p>Following <a href="https://clas.ucdenver.edu/marcelo-perraillon/code-and-topics/marginal-effects">these lecture-notes</a>, marginal effects are predictions. The main difference comes from how “effects” is understood. In particular in econometrics, “marginal effects” are understood as predictions for numerical derivates of the focal term, which is achieved by Stata’s <code>margins, dydx(varname)</code> or R’s <code><a href="https://rdrr.io/pkg/margins/man/dydx.html">margins::dydx()</a></code>. However, marginal effects at specific values, in Stata <code>margins, at(var1 = 5, var2 = 10)</code>, are <em>predictions</em> - the same that <em>ggeffects</em> returns.</p>
<p>Thus, the language used throughout this package considers <em>marginal effects</em> as predictions, i.e. predicted values. Depending on the response scale, these are either predicted (mean) values, predicted probabilities, predicted (mean) count (for count models) etc.</p>
<p>Currently, <em>ggeffects</em> does <em>not</em> calculate <em>average</em> marginal effects.</p>
<div id="estimated-marginal-means" class="section level2">
<h2 class="hasAnchor">
<a href="#estimated-marginal-means" class="anchor"></a>Estimated marginal means</h2>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<p>Gelman A, Hill J, Vehtari A (2020): “Regression and Other Stories”. Cambridge.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/strengejacke">Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
